# yaml-language-server: $schema=https://raw.githubusercontent.com/Azure/azure-dev/main/schemas/v1.0/azure.yaml.json

name: redmine-ai-reporter
metadata:
  template: redmine-ai-reporter@0.0.1-beta
  description: "IA para anÃ¡lise de atividades e preenchimento automÃ¡tico no Redmine"
  author: "Alex Sandro Ribeiro de Souza"
  repositoryPath: "."

# ConfiguraÃ§Ã£o dos serviÃ§os
services:
  frontend:
    project: ./src/frontend
    language: js
    host: staticwebapp

  api:
    project: ./src/api
    language: js
    host: function

# ConfiguraÃ§Ã£o de hooks
hooks:
  # Hook para executar antes do provisionamento
  preprovision:
    windows:
      shell: pwsh
      run: |
        Write-Host "ðŸš€ Preparando infraestrutura Azure..."
        Write-Host "ðŸ“‹ Verificando prÃ©-requisitos..."
    posix:
      shell: sh
      run: |
        echo "ðŸš€ Preparando infraestrutura Azure..."
        echo "ðŸ“‹ Verificando prÃ©-requisitos..."

  # Hook para executar depois do provisionamento
  postprovision:
    windows:
      shell: pwsh
      run: |
        Write-Host "âœ… Infraestrutura provisionada com sucesso!"
        Write-Host "ðŸ”§ Configurando variÃ¡veis de ambiente..."
    posix:
      shell: sh
      run: |
        echo "âœ… Infraestrutura provisionada com sucesso!"
        echo "ðŸ”§ Configurando variÃ¡veis de ambiente..."

# ConfiguraÃ§Ã£o de ambiente
infra:
  provider: terraform
  path: infra
